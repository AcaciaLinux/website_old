<!DOCTYPE html>
<html>
<<<<<<< HEAD
	<script src="scripts/packagebuildlist.js" type="text/javascript"></script>
=======
    <script>
        async function fetch_data() {
            let branchUrl = window.location.protocol + "//" + window.location.hostname + ":8081/";
			console.log("Sending branch requests to " + branchUrl);
            const pkgbuildlist_response = await fetch(branchUrl + '?get=jsonpackagebuildlist');
			const json_pkgbuildlist_response = await pkgbuildlist_response.json();

            
            const pkglist_response = await fetch(branchUrl + '?get=jsonpackagelist')
            const json_pkglist_response = await pkglist_response.json();

            console.log("Fetching jsonpackagelist from branch..");

            pkg_list = Array();
            
            for (let i = 0; i < json_pkglist_response.length; i++) {
                pkg_list.push(json_pkglist_response[i].name);
            }

            for (let i = 0; i < json_pkgbuildlist_response.length; i++) {
                row = document.createElement("tr");

                var id = document.createElement("td");
                text = document.createTextNode(i);
                id.append(text);

                var name = document.createElement("td");
                text = document.createTextNode(json_pkgbuildlist_response[i]);
                name.appendChild(text);

                var built = document.createElement("td");
                text = null;

                if(pkg_list.includes(json_pkgbuildlist_response[i])) {
                    text = document.createTextNode("true");
                } else {
                    text = document.createTextNode("false");
                }

                built.appendChild(text);
                row.append(id);
                row.appendChild(name);
                row.appendChild(built);

                document.getElementById("table_data").appendChild(row);
            }
        }
        fetch_data();
    </script>

>>>>>>> 4ad00c63bb6f93b981032cfc47e042ec0b259cd8
    <body>
        <table class="table vh-100">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">name</th>
                    <th scope="col">package built</th>
                </tr>
            </thead>
            <tbody id="table_data"></tbody>
          </table>
    </body>
</html>